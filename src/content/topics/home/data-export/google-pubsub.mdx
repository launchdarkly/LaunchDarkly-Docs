---
path: /home/data-export/google-pubsub
title: Google Cloud Pub/Sub
description: This topic explains how to create a Google Cloud Pub/Sub destination. Google Cloud Pub/Sub destinations let you export all of the flag evaluation and event data generated by LaunchDarkly SDKs into a Google Cloud Pub/Sub topic.
published: true
tags: ['google', 'pubsub', 'data export', 'event', 'destination']
---

## Overview

This topic explains how to create a Google Cloud Pub/Sub destination.

Google Cloud Pub/Sub destinations let you export all of the flag evaluation and event data generated by LaunchDarkly SDKs into a Google Cloud Pub/Sub topic. This export behavior is referred to as _publishing_.

## Prerequisites

In order for LaunchDarkly to send events to your Google Cloud Pub/Sub topic, you need the `projectId` and `topicId` for the Google Cloud Pub/Sub topic to which you want us to publish.

Find this information in the [Google Cloud Pub/Sub topic list](https://console.cloud.google.com/cloudpubsub/topicList).

In this example, the `projectId` is `ld-pubsub-test-192301` and the `topicId` is `test-prod`:

![The projectId and topicId in the Google Cloud Pub/Sub topic list.](google-pubsub-projid-testid-callout.png)


## Granting publish access to LaunchDarkly

After you identify the Pub/Sub topic you wish to publish to, you must grant LaunchDarkly's Google Cloud Service Account publish access to that topic.

To grant publish access:

1. In your Google Cloud Console, navigate to the [Pub/Sub topic list](https://console.cloud.google.com/cloudpubsub/topicList).
2. Select a topic by clicking the checkboxes to the left of each topic name. When you choose a topic, **Permissions** options appear.
3. Enter LaunchDarklyâ€™s Service Account email, `prod-event-recorder@firehose-publish.iam.gserviceaccount.com`, into the **Add Members** field.
4. Click the **Select a Role** menu and choose "Pub/Sub Publisher."
5. Click **Add**.

Verify that the LaunchDarkly Service account email is a Pub/Sub Publisher. If you configured your account correctly, LaunchDarkly's Service Account email appears as a Pub/Sub Publisher.

Here is an image of the Pub/Sub topic list:

![The Pub/Sub topic list with the LaunchDarkly Service account email called out.](google-pubsub-publisher-callout.png)


## Connecting the Pub/Sub topic to LaunchDarkly

The final step is to connect your topic to LaunchDarkly. To do this:

1. In LaunchDarkly, navigate to the **[Integrations](https://app.launchdarkly.com/default/integrations)** page and find "Google Cloud Pub/Sub."
2. Click **Add integration.** The "Create a destination" panel appears.
3. (Optional) Enter a **Name** for the destination.
4. Choose an environment from the **Environment** menu.
5. Enter the **Topic** ID.
6. Enter the **Project** ID.
7. Click **Save destination**:

![The "Create a destination" panel.](google-pubsub-create-destination.png)

## Testing a Google Cloud Pub/Sub destination

After you save the destination, send a test event to confirm that the destination is configured properly.

To send a test event:

1. Navigate to the **Integrations** page and find "Google Cloud Pub/Sub."
2. Click into the "GoogleCloud Sub/Pub" section to display a list of destinations.
3. Click the **edit** icon next to the destination you want to test. The "Edit destination" panel appears.
4. In the "Send a test event" section, click **Send event**:

![The "Send a test event" section of the "Edit destination" panel.](google-pubsub-test-event.png)

5. If you have configured the destination correctly, an event is logged in the Google Cloud Pub/Sub destination.

## Enabling Data Export for flags and environments

After you create a Data Export destination, you must start sending flag or environment event data to it. You can enable Data Export for individual flags, or for all the flags in an environment.

To learn more about exporting event data from flags and environments, read [Exporting event data for flags and environments](/home/data-export#exporting-event-data-for-flags-and-environments).

## Deleting a Google Cloud Pub/Sub destination

You can delete a Data Export destination from the **Integrations** screen.

To delete a destination:

1. Navigate to the **Integrations** page and find "Google Cloud Pub/Sub."
2. Click into the "GoogleCloud Sub/Pub" section to display a list of destinations.
2. Click the **edit** icon next to the destination you wish to delete. The "Edit destination" panel appears.
3. Click **Delete destination**:

![The "Delete destination" section of the "Edit destination" panel.](destination-delete.png)
