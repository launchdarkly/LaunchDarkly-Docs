---
path: '/home/data-export/schema-reference'
title: 'Data export schema reference'
description: 'This topic explains the schema of Data Export eventsm, including feature, index, identify, summary, and custom events.'
published: true
---

## Overview

This topic explains the schema of Data Export events.

Data Export exposes five different kinds of events:

- Feature events
- Index events
- Identify events
- Custom events
- Alias events
- Summary events. To export summary events, contact [LaunchDarkly Support](https://support.launchdarkly.com/).

Some data export destinations have different event formatting schema. If you use mParticle or Segment as your event destination, we have specific documentation for their event schema.

* [mParticle schema reference](/home/data-export/mparticle-schema-reference)
* [Segment schema reference](/home/data-export/segment-schema-reference)

These events are described in more detail below.

## Event Kinds

<Table>
  <TableHeader>
    <TableHeadCell>Description</TableHeadCell>
    <TableHeadCell>Event kind</TableHeadCell>
  </TableHeader>
  <TableBody>
    <TableRow>
      <TableCell>feature</TableCell>
      <TableCell>
        This event includes full-fidelity details of each individual feature flag evaluation. These are only present if
        detailed tracking is explicitly enabled for a feature flag, or if an older SDK is in use.
      </TableCell>
    </TableRow>
    <TableRow>
      <TableCell>index</TableCell>
      <TableCell>
        This event type contains details about a user used in feature evaluation for a particular user key. This event kind is
        not available for Segment or mParticle destinations. To export index events,
        contact <a href="https://support.launchdarkly.com">LaunchDarkly Support</a>.
      </TableCell>
    </TableRow>
    <TableRow>
      <TableCell>identify</TableCell>
      <TableCell>
        This event type passes details about a user provided in an explicit <code>identify</code> call to the SDK. This
        event kind is not available for Segment or mParticle destinations.
      </TableCell>
    </TableRow>
    <TableRow>
      <TableCell>custom</TableCell>
      <TableCell>
        This event type passes data provided in an explicit <code>custom</code> call to the SDK.
      </TableCell>
    </TableRow>
    <TableRow>
      <TableCell>alias</TableCell>
      <TableCell>
        This event includes information necessary to correlate a user known by two
        different user keys, for example an anonymous user key and a logged-in key
      </TableCell>
    </TableRow>
    <TableRow>
      <TableCell>summary</TableCell>
      <TableCell>
        This event describes a roll-up of individual feature evaluations over an interval. To export summary events,
        contact <a href="https://support.launchdarkly.com">LaunchDarkly Support</a>.
      </TableCell>
    </TableRow>
  </TableBody>
</Table>
<Callout intent="alert">
  <CalloutTitle>mParticle and Segment schema differences</CalloutTitle>
  <CalloutDescription>

The `index` and `identify` event kinds are **not available** for Segment and mParticle destinations.

  </CalloutDescription>
</Callout>

## SDK Versioning for Events

Older SDKs always send `feature` events regardless of whether detailed tracking is enabled for that flag. The `summary` and `index` events described below are also only generated only by newer SDKs.

Older SDKs will also send `user` attributes as an object inside `feature` events instead of just providing a "userKey" that can reference user data sent in a prior `index` event.

The minimum SDK version numbers for SDKs support the new `summary` and `index` events and limit the sending of "feature" events are listed below:

- .NET: **4.0.0**
- Go: **4.0.0** (aka v4)

- Java: **4.0.0**
- Node: **5.0.0**
- PHP: **4.0.0**
- Python: **6.0.0**
- Ruby: **4.0.0**

<Callout intent="info">
  <CalloutTitle>Enabling detailed analytics events</CalloutTitle>
  <CalloutDescription>

To see "feature" events, in addition to index, identify, and custom events, for a feature flag using recent SDKs, select “Send detailed event information for this flag” in the Settings menu for a feature flag or environment. By default, LaunchDarkly does not export summary events. To export summary events, contact <a href="https://support.launchdarkly.com">LaunchDarkly Support</a>.

  </CalloutDescription>
</Callout>

## Understanding event type structures

Each of these events are sent as JSON files to your destinations.

All events have the following top level structure:

<CodeTabs
  defaultValue="json"
  values={[
    { label: 'Example', value: 'json', },
  ]
}>
<CodeTabItem value="json">

```json
{
  "project": "5744c96707c9900708000004",
  "environment": "578d1e02d2943862c52b9686",
  "event": {...},
  "version": 1,
}
```

</CodeTabItem>
</CodeTabs>

- `project`: The ID of the LaunchDarkly project associated with the event.
- `environment`: The ID of the LaunchDarkly environment associated with the event.
- `version`: Not currently in use (it is always `1`), but may be used in the future if event schemas change.
- `event`: The event itself. It is an object with a structure described below, depending on the `kind` of event.

## Feature events

`Feature` events represent individual flag evaluations and are considered "full fidelity" events.

An example feature event is pictured below:

<CodeTabs
  defaultValue="json"
  values={[
    { label: 'Feature event example', value: 'json', },
  ]
}>
<CodeTabItem value="json">

```json
 {
    "kind": "feature",
    "contextKind": "anonymousUser",
    "userKey": "feature@test.com",
    "creationDate": 1462220944000,
    "key": "my.feature.key",
    "variation": 0,
    "variationName": "my variation",
    "value": false,
    "default": false,
    "version": 42,
    "reason": {
      "kind": "FALLTHROUGH"
    },
    "prereqOf": "parent-flag"
 }
```

</CodeTabItem>
</CodeTabs>

- `kind`: The kind for a feature event is `feature`. A feature event will only be generated if the `trackEvents` attribute of the flag is set to `true`. This is also controlled by settings in the UI.
- `contextKind`: The kind of context which generated an event. This will only be "anonymousUser" for events generated on behalf of an anonymous user or the reserved word "user" for events generated on behalf of a non-anonymous user
- `userKey`: The key of the user object used in a feature flag evaluation. Details for the `user` object used in a feature flag evaluation as reported by the "feature" event are transmitted periodically with a separate `index` event.
- `creationDate` When the feature flag was requested at Unix epoch time in milliseconds.
- `key`: The key of the feature flag requested.
- `variation`: The variation of the flag requested. Flag variation values are stored in an array. This value corresponds to the index of the variation the array. Boolean flags show as `0` or `1` for `true` and `false`, and other flag types are numbered starting with `0` for their different variations.

- `variationName`: The evaluated variation's name, if it exists. If the evaluated variation doesn't have a name, this field doesn't appear.
- `value`: The value of the feature flag returned by feature flag evaluation.
- `default`: (Optional) This value is set to `true` if feature flag evaluation failed, in which case the value returned was the default value passed to `variation`. If the default field is omitted, it is assumed to be `false`.
- `prereqOf`: attribute should be set to a flag key if this flag evaluation was only performed in order to determine whether the prerequisite values were met for the indicated flag.

If a feature event was generated through a "variation detail" method, the event will have a `reason` property with the JSON representation of the [evaluation reason](/sdk/concepts/evaluation-reasons).

## Index events

<Callout intent="info">
<CalloutTitle>Enabling index event exports</CalloutTitle>
<CalloutDescription>

By default, we do not export index events. To export index events, contact [LaunchDarkly Support](https://support.launchdarkly.com/).

</CalloutDescription>
</Callout>

Index events are sent periodically to describe the attributes of users referenced by the "userKey" in `feature` events.

An example `index` event is pictured below:

<CodeTabs
  defaultValue="json"
  values={[
    { label: 'Index event example', value: 'json', },
  ]
}>
<CodeTabItem value="json">

```json
  {
    "kind": "index",
    "user": {
      "key": "user@test.com",
      "custom": {
        "groups": [
          "microsoft",
          "google"
        ]
      }
    },
    "creationDate": 1462220944000,
  }
```

</CodeTabItem>
</CodeTabs>

- `kind`: The kind of an index event is `index`.
- `user`: The same schema as `user` objects for feature flag evaluation.
- `creationDate`: The time this user was recorded at Unix epoch time in milliseconds.
  <Callout intent="info">
    <CalloutTitle>SDKs determine when index events are sent</CalloutTitle>
    <CalloutDescription>
      The SDKs have internal logic that determines whether it is necessary to send an "index" event. Index events are
      not created for every flag evaluation. If the same user (as defined by their key) is seen multiple times in
      succession, multiple index events will not be sent.
    </CalloutDescription>
  </Callout>

## Identify events

Identify events are produced when the client application calls the `identify` SDK method. Identify events have a similar structure to "index" events.

An example `identify` event is pictured below:

<CodeTabs
  defaultValue="json"
  values={[
    { label: 'Identify event example', value: 'json', },
  ]
}>
<CodeTabItem value="json">

```json
{
  "kind": "identify",
  "user": {
    "key": "user@test.com",
    "custom": {
      "groups": [
        "microsoft",
        "google"
      ]
    }
  },
  "creationDate": 1462220944000
}
```

</CodeTabItem>
</CodeTabs>

- `kind`: The kind of an identify event is `identify`.
- `user`: The same schema as `user` objects for feature flag evaluation.
- `creationDate`: The time this user was recorded at Unix epoch time in milliseconds.

## Custom events

Custom events are produced when the client application calls an SDK method called `track`.

<Callout intent="alert">
<CalloutTitle>mParticle and Segment schema differences</CalloutTitle>

<CalloutDescription>

The `data` event kind is **not available** for mParticle or Segment events.

</CalloutDescription>
</Callout>

An example custom event is pictured below:

<CodeTabs
  defaultValue="json"
  values={[
    { label: 'Custom event example', value: 'json', },
  ]
}>
<CodeTabItem value="json">

```json
{
  "kind": "custom",
  "user": {
    "key": "user@test.com"
  },
  "creationDate": 1416003645758,
  "key": "custom.event.key",
  "data": {
    "custom": "value"
  }
}
```

</CodeTabItem>
</CodeTabs>

## Alias events

Alias events are produced when the client application calls the `Alias` SDK
method. They are also emitted automatically by clientside SDKs when an anonymous user
identifies as a non-anonymous user.

<Callout intent="alert">
<CalloutTitle>mParticle and Segment schema differences</CalloutTitle>

<CalloutDescription>

To read about how alias events function in mParticle and Segment destinations,
see their respective schema references.

</CalloutDescription>
</Callout>

An example alias event is pictured below:

<CodeTabs
  defaultValue="json"
  values={[
    { label: 'Alias event example', value: 'json', },
  ]
}>
<CodeTabItem value="json">

```json
{
  "kind": "alias",
  "creationDate": 1600376029000,
  "key": "logged-in-user",
  "contextKind": "user",
  "previousKey": "logged-out-user",
  "previousContextKind": "anonymousUser"
}
```

</CodeTabItem>
</CodeTabs>

## Summary events

<Callout intent="info">
<CalloutTitle>Enabling summary event exports</CalloutTitle>
<CalloutDescription>

By default, we do not export summary events. To export summary events, contact [LaunchDarkly Support](https://support.launchdarkly.com/).

</CalloutDescription>
</Callout>

Summary events are sent periodically by SDKs to describe a set of feature evaluations. Summary events include all feature evaluations, regardless of whether `trackEvents` field was set for individual flags.

An example summary event is pictured below:

<CodeTabs
  defaultValue="json"
  values={[
    { label: 'Summary event example', value: 'json', },
  ]
}>
<CodeTabItem value="json">

```json
{
  "startDate": 1517350765387,
  "endDate":  1517350825243,
  "features": {
    "flag-key": {
      "default": "default-value",
      "counters": [
        {
          "value": "result-value"
          "version": 17,
          "count": 23,
          "variation": 1,
        },
        {
          "value": "another-value"
          "version": 17,
          "count": 2,
          "variation": 0,
        }
      ]
    },
    "another-flag-key" :{
      "default": "some-other-result-value",
      "counters": [{
        "value": "some-other-result-value",
        "version": 19,
        "count": 29,
        "variation": null (or leave empty) 

      }],
    "nonexistent-flag-key" : {
      "default": false,
      "counters": [
        {
          "unknown": true,
          "value": false,
          "count": 3,
        }]
    }
}
```

</CodeTabItem>
</CodeTabs>

The summary event represents a set of feature flag evaluations occurring during an interval defined by `startDate` and `endDate`, sorted by feature flag.

Each feature flag includes the following details:

<Table>
  <TableHeader>
    <TableHeadCell>Field</TableHeadCell>
    <TableHeadCell>Meaning</TableHeadCell>
  </TableHeader>
  <TableBody>
    <TableRow>
      <TableCell>default</TableCell>
      <TableCell>
        The default value the SDK received for the feature (sampled at some point during the interval).
      </TableCell>
    </TableRow>
    <TableRow>
      <TableCell>startDate</TableCell>
      <TableCell>
        The timestamp of the first feature flag evaluation included in this packet. This value is a UNIX Epoch time in
        milliseconds.
      </TableCell>
    </TableRow>
    <TableRow>
      <TableCell>endDate</TableCell>
      <TableCell>
        The timestamp of the last feature flag evaluation included in this packet. This value is a UNIX Epoch time in
        milliseconds.
      </TableCell>
    </TableRow>
    <TableRow>
      <TableCell>counters</TableCell>
      <TableCell>A set of counters as described below.</TableCell>
    </TableRow>
  </TableBody>
</Table>

The `counters` field is an array of objects with the following contents:

<Table>
  <TableHeader>
    <TableHeadCell>Field</TableHeadCell>
    <TableHeadCell>Meaning</TableHeadCell>
  </TableHeader>
  <TableBody>
    <TableRow>
      <TableCell>version</TableCell>
      <TableCell>The version of the feature flag evaluated.</TableCell>
    </TableRow>
    <TableRow>
      <TableCell>value</TableCell>
      <TableCell>The value returned by the SDK for the flag evaluation.</TableCell>
    </TableRow>
    <TableRow>
      <TableCell>variation</TableCell>
      <TableCell>
        A zero-based index into the list of variations. If this field not provided, a default value was used.
      </TableCell>
    </TableRow>
    <TableRow>
      <TableCell>count</TableCell>
      <TableCell>
        The number of times this value/version/variation combination was an evaluation result during the interval.
      </TableCell>
    </TableRow>
    <TableRow>
      <TableCell>unknown (optional)</TableCell>
      <TableCell>
        If this is present and true it indicates that no flag by this name was known to LaunchDarkly (and therefore the
        SDK default value was returned).
      </TableCell>
    </TableRow>
  </TableBody>
</Table>
