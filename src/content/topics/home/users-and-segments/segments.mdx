---
path: '/home/users/segments'
title: 'Building user segments'
description: 'This topic explains how to build and manage user segments. User segments let you target groups of users by attribute.'
published: true
---

## Overview

This topic explains how to build and manage user segments. User segments let you target groups of users by attribute.

<Callout intent="alert">
<CalloutTitle>This feature is only supported on newer versions of our server-side SDKs. (All client-side SDKs automatically support Segments.)</CalloutTitle>
<CalloutDescription>

* Go: **v3**
* Java: **3.0.1**
* Node: **4.0**
* PHP: **3.0.0**
* Python: **5.0.1**
* Ruby: **3.0.1**
* .NET: **4.0.0**

If you want to use user segments with the Relay Proxy, you must upgrade to the latest version
**3.0.1** before upgrading your SDKs. To learn more, read [The Relay Proxy](/home/relay-proxy). You do
not need to upgrade mobile (iOS and Android) and client-side Javascript SDKs to use this feature. If you don't see the **Segments** tab in your project, [contact Support](https://support.launchdarkly.com/hc/en-us/requests/new) to confirm that your SDKs are up-to-date. If they are, we can enable this feature for you.

</CalloutDescription>
</Callout>

## Understanding user segments

User segments are lists of users that you can use to manage flag targeting behavior in bulk. You can include or exclude individual users from a segment based on user attributes. Use the **Segments** tab to create targeting rules and lists of users to manage flag targeting more efficiently.

Segments are useful for keeping groups of users, like `beta-users` or `enterprise-customers`, up to date. They allow you to more quickly turn features on or off for certain groups with confidence.

There are some differences between flag and segment targeting that you should be aware of:

- Unlike flags, segments are environment-specific. They do not populate in environments other than the one you created them in.
- Segment targeting cannot reference another user segment.

## Creating user segments

Creating a segment is similar to creating a flag.

To add a new segment:

1. Navigate to the **Segments** tab.
2. Click **New Segment**. The "Create a segment" screen appears:

![The Segments tab with the New Segment button called out.](../../images/segments-new-callout.png)


3. Give your segment a human-readable **Name**.
4. Enter a **Key** for the segment. This field auto-populates based on the segment name, but you can change it if you need to.
5. (Optional) Add a **Description**.
6. (Optional) Choose **Tags** from the dropdown menu.
7. Click **Save Segment**. The Segment targeting screen appears:

![The "Create a segment" screen.](../../images/segments-create.png)


## Customizing a user segment

You can customize a segment to apply to different users or attributes, or exclude users and attributes, in the segment's targeting screen. Segment targeting rules function the same way as flag targeting rules. To learn more, read [Targeting users](/home/flags/targeting-users).

To customize a segment:

1. Navigate to the user segment you wish to modify.
2. Target individual users, or lists of users, with the **Included users** or **Excluded users** options.
3. Click **Add rules** to create a custom rule for this segment. The custom rule menu appears:

![A user segment screen with the "Add rules" button called out.](../../images/segments-add-rules-callout.png)

4. Specify an **attribute**, **operator**, and **values** for the rule.
5. If you want to add more criteria, click the **plus button** beside the rule criteria:

![The custom rule menu.](../../images/segments-user-include-dropdown.png)

6. When you are done configuring a rule, click **Save Changes**.

<Callout intent="info">
<CalloutTitle>Understanding segment rule logic</CalloutTitle>
<CalloutDescription>

When you specify rules for a segment, LaunchDarkly parses them in order of appearance from top to bottom. You can change how segment targeting applies based on the order of the rules you create.

</CalloutDescription>
</Callout>

You can target the same user segment from multiple feature flags. If you have many flags that need the same targeting rules, it may be easier to set up a single user segment with those rules for your flags to target, rather than setting up the rules repeatedly in each flag.

## Scheduling user removal from segments

<Callout intent="primary">
<CalloutTitle>Scheduling removal dates is an Enterprise feature</CalloutTitle>
<CalloutDescription>

Scheduling removal dates is available to customers on an Enterprise plan. To learn more, [read about our pricing](https://launchdarkly.com/pricing/). To upgrade your plan, [contact Sales](https://launchdarkly.com/contact-sales/).

</CalloutDescription>
</Callout>

You can schedule a date and time on which a user is removed from a segment.

By doing this, you can specify a future date and time after which the user will no longer be a member of that segment. You can do this for existing users, or when you create a new one.

This is useful if you want to give users temporary access to a feature that has their segment targeted. The ability to remove users from segments, instead of flag targeting, allows you to keep your flag's targeting rules permanent and clean.

To set a targeting removal date:

1. Navigate to the Segments dashboard and choose the segment you wish to modify.
2. In the "Included users" field, click the user you wish to remove from the segment:

![The "Target individual users" screen](../../images/segments-remove-user-on.png)

3. In the "Remove user on" section, click to expand a calendar view:

![The removal scheduling calendar.](../../images/segments-schedule-calendar.png)

4. Set a date and time for the user to be removed from the segment.
5. Click **Apply**.
* If approvals are not required, the user is now scheduled for removal on the date and time you specified.
* If approvals are required for scheduled removal dates, click the **Request Approval** button in the upper right.

The Request Approval screen appears:

![The request approval screen.](../../images/approvals-request-schedule-removal.png)

6. Enter a **Description** to add context that helps your reviewers understand the changes you made.
7. (Optional) If necessary, you can edit your flag changes by clicking the **Edit** button.
8. Choose one or more reviewers from the **Reviewers** dropdown.
9. Click **Request approval**.

The people you chose from the dropdown each receive an email asking them to approve your flag changes. The flag's **Targeting** page also updates with an icon to indicate that there are pending changes waiting for review.

Additionally, when you add a user to a segment, you can schedule them for removal later by clicking **Add + Schedule Removal**.

Here is an image of the user targeting field:

![The user targeting field with the "Add + Schedule Removal" option called out.](../../images/flag-targeting-user-add-schedule-callout.png)
